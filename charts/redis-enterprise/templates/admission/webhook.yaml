apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: default
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjekNDQWx1Z0F3SUJBZ0lRR0RRd2RHT0hDajlhemo1YTBsWUg1REFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13TXpFME1UUXlNalEyV2hjTk1qZ3dNekV5TVRReU1qUTJXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDdAp1VWFqQTVFT09mclR5MGt2T0RMQkgyQ3c4L0t2dkNYaFAxYk9jTGtPem1FV09GNFE1WTA2L1ZJeG5aaVY1dE5lCm43c096UFZ0czQ5Q1doT2VjQ3k4dWt0Ylg1TjZRU0hSbHlqWGZLWEJwMDA0WFExMXZacVR5aUovU0tVd21ESmwKeFo5TFdmUFg0L2hYNCtPSFpKVnRHKzk0ZmJwcHIvK1A2MTRRR2VTc3N4V2VQUUQybGowTnNDdWU3SlBUSEYxaQpKMm9MK0QzNVovdUJPM0lpT3pDM29MQlloSkJQN0d0a1ljdGpJT3h1U3MzWGJCZ01MUzhNOW85a1ZLdzlrN0JSCndjREptK1lrcm56akF2aUxPU1VBMGdUdVhiSG1PL1FDQys5bnBnMmV5cjNpMUFPUld4QzY0Z25iMUsrTjFXRzkKMnAyWUliZG4zaXg0SVYxU3ZpR2hBZ01CQUFHamJUQnJNR2tHQTFVZEVRUmlNR0NDQ1dGa2JXbHpjMmx2Ym9JagpZV1J0YVhOemFXOXVMbVJsWm1GMWJIUXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXeUNGV0ZrYldsemMybHZiaTVrClpXWmhkV3gwTG5OMlk0SVJZV1J0YVhOemFXOXVMbVJsWm1GMWJIU0hCQW9FQjNnd0RRWUpLb1pJaHZjTkFRRUwKQlFBRGdnRUJBQ0VBVEtlL0tSYXhLWVNlNWJ3L2JyY1dOSEZQOWpzOHpnOEpUK29TdnV0VlhZOEd6Y0RzMHpHdgpRalFqMHZWVmlTRWJQNStpY3pvN2lsdmtLbkxTcGpJaUpVT0Z4WFpLMjdSY1NwbEwzdVhTQy8rbWxONFI0UERVCitpcXlKZXUwTnoxelJxMWZZNVR3Z1Fpbkd6aFF6eHRlMHRCWE14Z3Y1LzNSbWNiMXF2UFJNeUlKTEMwTjRnTWQKS04wUFdram0zWEFab2xmVm1weFpoREFkVXJobWxTVmk0Rkp4b3cvWTRhODRrSUFuUUw3bDBybEI2YjhQK1ZqQQpwVWRtVDBYSDgxbGk0WjRqOEtUOUc4YStOdUN4TXNUMnpUSnE2dDZDVC9BMm9yZ0Yvei8yMWQxY3Jyd05ScGxuCjBkOE05ZXIzd1pLbndXS0h1Um5WRjZ6WWtXNWlJT289Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
