apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: default
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjekNDQWx1Z0F3SUJBZ0lRWmU3VEwyRVMxYmkvT3ZDcE40cWRyekFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13TkRFek1UUXdNREl6V2hjTk1qZ3dOREV4TVRRd01ESXpXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDawp2TXNzZTBJUit3Q2NpeHRxT29zeEZ5azgvU3cxYWswaHhoQ0w0WXVQQUY2SW5uYWY5Qy80VWpzY0FjeDBIVGJ2CmQvbVF2L3B2QWk4RGtCdXUrSXVnVWExNXh4aE93aG0ydlpJbVRzMkx3YlhUWTBmK2F2SHZHelkzKzZsbllRU0cKZGVkYWdyUGcxY0JoVldwWWhvQWNOeXE2L2o2ZFJVSGczVytpNGtUQmVtcXJGZUtrMHNMNWl0c1kyYk5OQjlGUQoxb1oyQzg4Nm1NL3Rlb3BOVk1IUnlyOUUzVzZFNUhaSVlLWnV4bE5RNXJ3aklISkN0dWgvZjkyS2N6Mnl6TUZKCmJaUkxXUE92TTU2alZxWEhDeEdYa1dHUkp1ampjWGV5ZjJnb1ordkhPY0ZESlVYK1d5dWlEZ3BBdnNLaVhVNmMKV3Bzcmd2elZGeVhhV1BFZ3VKalBBZ01CQUFHamJUQnJNR2tHQTFVZEVRUmlNR0NDQ1dGa2JXbHpjMmx2Ym9JagpZV1J0YVhOemFXOXVMbVJsWm1GMWJIUXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXeUNGV0ZrYldsemMybHZiaTVrClpXWmhkV3gwTG5OMlk0SVJZV1J0YVhOemFXOXVMbVJsWm1GMWJIU0hCQW9FQkRJd0RRWUpLb1pJaHZjTkFRRUwKQlFBRGdnRUJBSjBRNVRrcFdGeHdpb0ZMTy9yQ1p0TjltdGRwVnNVV0dzV2o4d3RjdmM4bGd6SkV5UGhxM0hNSgowREpMSnJib0tEb3V2QWZRYVFpMTlPOHROR3RTd2JtMm1kQnMzcHQwVDZBODZ4ZW9ndG90dEVPV21jeGw0a3JlCnFMWkp5UEFpZHhkWnZ5bU1VQ28wMFRyb2lTNVRqYlpmY3h6Y3FaSW5JSHRvNjdwU05CcDVvdnBCMFpvdTJlTUMKZ0l2UnR1ek1qamxMYkJxVXAyQWxqdkJqZFJJTGdDMDdTcUtEeFZaeHBCNTduTlNuN2ZWVG1YZ0E3K0QxQTh0eQpWbGo3UXp1SW9kSjVZSTlRbFE0YWRCZzhuTmVzMWswQVRhc2NOdHdTY1BLY1RIdkdudENxZlhwWXZyUmZsZzdICi95Q0J1R3B2T29XRXo1MTVCTWxObFpzMnZyNTZYTUE9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
