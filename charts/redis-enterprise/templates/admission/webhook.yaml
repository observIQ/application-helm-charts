apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: default
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURkRENDQWx5Z0F3SUJBZ0lSQUxqTFBHWHB4TEhFSTllSnlpWlZGOTh3RFFZSktvWklodmNOQVFFTEJRQXcKUGpFa01DSUdBMVVFQ2hNYlVtVmthWE5NWVdKeklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01SWXdGQVlEVlFRRApFdzFoWkcxcGMzTnBiMjR0ZEd4ek1CNFhEVEl6TURNd016RTNNVE0wTVZvWERUSTRNRE13TVRFM01UTTBNVm93ClBqRWtNQ0lHQTFVRUNoTWJVbVZrYVhOTVlXSnpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNNUll3RkFZRFZRUUQKRXcxaFpHMXBjM05wYjI0dGRHeHpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQp3YllDWU5td2Z5SnZISFNMdFlqdlFMSnpxNTZ3Yjd6cTUvVFo4N3BRdjdSSURIcUt0aTRaT1drM1pQd2VMVmtKCm9aL1ZCSGRXeFhwNmRLRGlmSGk1UjNDRXhDR01ZdmtzQnM2Z3lUWE5CeE5NYUFhbzZpZTNCbDNvbVk3Wkd5VW0KMUl0L3pnajF1UFdPSnd3MmNSQ29mMWpqZFlzUk1haFYwWUdmNzlscmVtUktWS1dnd3VScEJVdlhHQ2tMWTFsQwpFVGxTMTBUWUJvUmZwbm42UDEvUnhCTGFGeXJuYk00UlE3eTR3SzAwYTF6QjdTbHBzdzd3ZStValJvTjJpRlMxClNMTExENkw0dFR2UmlLZDFmM25tVnhzU1pUMVRUQnZNc1pMM1JudUY1Y1dDUHNUakI1dW05NEI4S0RlQ2ErVWYKQ2Z5cmdRT2ZXWERTOTlQcnFZOXEwUUlEQVFBQm8yMHdhekJwQmdOVkhSRUVZakJnZ2dsaFpHMXBjM05wYjI2QwpJMkZrYldsemMybHZiaTVrWldaaGRXeDBMbk4yWXk1amJIVnpkR1Z5TG14dlkyRnNnaFZoWkcxcGMzTnBiMjR1ClpHVm1ZWFZzZEM1emRtT0NFV0ZrYldsemMybHZiaTVrWldaaGRXeDBod1FLQkFJeU1BMEdDU3FHU0liM0RRRUIKQ3dVQUE0SUJBUUNWQTNlVnU4blBYWS82dzFRMkUxOGRyQk9YdEI2bEh1WVFSQ1hUMTVENjU5MHJ0Mzh2VzFRZApYMVduR2ZwYmt6TGZIam01NUg2V2JwbnZUbFAyVnVaeWkwaGNzNFRtUCsreWxsMUZuaXFDazFRQXNPVjBsc0pBCjdja0paWkZzWFVQYlhzdVoySGVPbTNMSFB1dkVTQit0M2k0OTM2UStJMVdabzNxUVMzdWhTVWZVUlJQby9LWGUKcG9KanVCS0cxeHVmWmtOUTZBWEdWV3ZDbnFxOWlyRUpiMWlOTXU2TzJlY01WWjRmWWpXQ1NlN0daTHZPdjU1aQpyTkdrN3ZLU0ppRXo2YVEzeThhSWdmYXR4SUhYdzZoUm1yNWdYR0s2NW9BOWdzM3o1UWpjdVFTL0wzSWNGek9LCmoxa2dSdzFBMFo4YmdEeFBtbjBpaWI1WFlmeVRWYmhMCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
