apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: default
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjekNDQWx1Z0F3SUJBZ0lRWnJZZlVhQUF5YzR4WnFISE9GQXZpVEFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13TXpJeU1qRTFOVEUyV2hjTk1qZ3dNekl3TWpFMU5URTJXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEbAo5ckd3SFhpZVgraW4waUpKdmZobFdRRTMxUUhUV1pSaTJPVXNjQlhGRE9mWWN6UmlQQWs1ZFVJT0VvbzAxVk8yCmY2aEFsazdxdkpad3JUaFNVMTJSd2JBYlBsQ1lZSSt0cG82SzV1eEp4SFJJTG84aHpweHc1RlZ6dTJWMXdKKysKbGR6WE9EOElaV0gyRGw2Mk0rRndkTXVmOCtGT2pCVmoyNTBvbGJkOHBlNDlSanNOVEhqYXprakxWVlRTV1B1NAordEVQcXNtSStwbHl4cS84enZ1WHp3Sk43RmtlRnJkZFgwMjcrTEJ1YnhTMXhHRnFjRVBVazJPMUNnSjI1UUxPCjJxSDlrQnVkUEZOTjI3aVpoWmJndVF6bXgxTE02Z2NQZ3NQaDFpMGtWblNCcGxxSGM3Y0RwZy9yL3c2bU1aWnUKSWl1RmF6U0xXV2NvMUtPK3YxK1JBZ01CQUFHamJUQnJNR2tHQTFVZEVRUmlNR0NDQ1dGa2JXbHpjMmx2Ym9JagpZV1J0YVhOemFXOXVMbVJsWm1GMWJIUXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXeUNGV0ZrYldsemMybHZiaTVrClpXWmhkV3gwTG5OMlk0SVJZV1J0YVhOemFXOXVMbVJsWm1GMWJIU0hCQW9FQXRVd0RRWUpLb1pJaHZjTkFRRUwKQlFBRGdnRUJBRDdaMTgrTE9zWVNlV1JVcXRaWmtnK1JkOTRWNDhXSUZmVHNadVhsaVpTdkUxTTlzWDBKSTVpbwplU2FBbEMrTTFkeTFvODZibktucXNSM05vU3Z3L0VuV0ZpOWkyQnhPUGZpMklLaERJQzZ0N00wMXprR29LZ3RqCi80cnlUdDNiV0xYbFp4amgxWFNFcG40bjNXaGdkWVZ1VE9rSmg2RmdXNjYyMDlWclpIR24rVm1xOFI1QVVtT28KeHpSejRId3ZGL2grV0JYN01qY0pZY2YvcXN1K1pOMHBHSCtsQUVpSStwcDdOanRleXBGeXR5WW5wTjVleEFCaApIVzIvcnFPN2RFZnRzQXdKSVFXd2xjVTR2RUZmRGNnYkloNC8xd2hDNFNrWk51UzNNNFJBMFV4L0d1L05Lc090CitseU9ucSt1R2VMckhPSkJ3N3lFYU52MEVvSU1XR289Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
