apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: default
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjekNDQWx1Z0F3SUJBZ0lRTk9jYUw0UFpDVHYyL2ZWSURpeTEyekFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13TXpFMU1UTXlPVFEwV2hjTk1qZ3dNekV6TVRNeU9UUTBXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFEQgpaNDZSVVRhVVZxL1d6Rjg3MHBRei93Q1N1QVB4TVFuWC9uaklEZXc5eXM0K3Y5elZpL0xPSzMzZWttNmloMnovCjVhV2RzSVJ2VzlxY21qNlQ3YUZHblZCT3VNTURXUStQM2pTS1RqaHc5VHB4elBXQ3VZSDNFelovWlVjeWFzSDQKUFhMZG5kdWE3VFVzVitJRW82OXJqWGY5ZWJ1OTZpUDhGS25TRkxEZ3ljbVEvWTVaRW81cnRUT2ZhdjJEUk9wVApiRW54V3NLWDFDK2dnRWRwVzJiUG5UYllvOXM2T1MzV0V1UzNzRTlDcE1UWFc1eVRXTEhIcHJWRXVxazUzc1ZDCm9qdlN1OHNGeVRPUFd3YURmVFZKRnNoMWFuUFFNSnNSL2QxWDJTUThtRmNvNmZCUTNhMWFrQ2dGbEJKYldNN0UKRmc3Wmt4aHUrOEp4bitEMlQ0RzNBZ01CQUFHamJUQnJNR2tHQTFVZEVRUmlNR0NDQ1dGa2JXbHpjMmx2Ym9JagpZV1J0YVhOemFXOXVMbVJsWm1GMWJIUXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXeUNGV0ZrYldsemMybHZiaTVrClpXWmhkV3gwTG5OMlk0SVJZV1J0YVhOemFXOXVMbVJsWm1GMWJIU0hCQW9FQllvd0RRWUpLb1pJaHZjTkFRRUwKQlFBRGdnRUJBTERjSlVzWWJveVBBWXpUcEIzMk4vczM5NDN5bDZuMVhTT0c1MzRDSnlEVWxGdkJCMTZhUFlGTgpHN2xzWDZScVkrSE1sdmFNMDQ1cytiSmdpZWNJaHQ1d0NVQ3I3VXdzMU9MdGkxOTRLcFo2d2ZNZXVHZzBocXVBCmFTbi9WWHlVSVVqT1JYSXR0WVZoYk1UajdNbTVjWGJUaEl5N3l6MG1GNTZVcmM5QkRhdUhZOVpycHRyQS9UckUKb1VJWkZ3M05WaytPUlVuZkIwL2RHRWt2Q21PcVdsQ0xHNWp4Yms2eklGdHZYU0drVm9zRTVTSXhrd1JVQUtSSQpIVmdEZkp5cks4NkFhc0pwMEpBNVpERnN2MDFNazcyV01kWmh4K29WS3RGbWladmFGdVVFOEJSWDd1WWlkZ3lNCmZrV0ppVkFzV2dVZ0x3azBRTG9kY2xTNEhIVmNWSWc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
