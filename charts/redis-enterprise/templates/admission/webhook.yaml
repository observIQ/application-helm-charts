apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: default
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURkRENDQWx5Z0F3SUJBZ0lSQUkzVW0ycWZ4cFRLd3ZycGlpQXpwS0V3RFFZSktvWklodmNOQVFFTEJRQXcKUGpFa01DSUdBMVVFQ2hNYlVtVmthWE5NWVdKeklFRmtiV2x6YzJsdmJpQkRiMjUwY205c01SWXdGQVlEVlFRRApFdzFoWkcxcGMzTnBiMjR0ZEd4ek1CNFhEVEl6TURReE1qSXlOVFl3TVZvWERUSTRNRFF4TURJeU5UWXdNVm93ClBqRWtNQ0lHQTFVRUNoTWJVbVZrYVhOTVlXSnpJRUZrYldsemMybHZiaUJEYjI1MGNtOXNNUll3RkFZRFZRUUQKRXcxaFpHMXBjM05wYjI0dGRHeHpNSUlCSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQVE4QU1JSUJDZ0tDQVFFQQp5SVZlTDFZZGJ5YVIrUW9XckJ3UmJUVStuTlBGdSswcTRZL25tZUs2UDZXbzVMR0pvQ2lIS3Z2Z1JoSWQ5STlyCnBUb0lZTTgzNDdieXFDZFRZRkZOQi9MdlI3Zi90L09ZRFZIdTVReXZFQ2x5ekFheThKZFpjN0hGQjkrekRYajAKZzhZMFFYYklYek52RUdsMEVFaldGSFl6UzBBSFVZTXBSUHZSTGlyVzdUMjNiTlh1NUlEU2kzclNBMTVhbW9rMgpyc3cwa09nYVJWYTFEeFFONXk3ZTRwbGhNdnNxMy8vRGVJSEwwUEZCcWlWWWVxamZ6bzRoSnpwTkZENXI5QjZrCjZlVUlSUmljZ0lmeHNzRUQ2WExwMks4N3RvZ090aVV5QlNBdElrZ2NvdHdienhLQXVnU0JKRjlWeUsyb3RKSDMKVmNaaktZeGc3dE5ZM1o0b0xjOFZxUUlEQVFBQm8yMHdhekJwQmdOVkhSRUVZakJnZ2dsaFpHMXBjM05wYjI2QwpJMkZrYldsemMybHZiaTVrWldaaGRXeDBMbk4yWXk1amJIVnpkR1Z5TG14dlkyRnNnaFZoWkcxcGMzTnBiMjR1ClpHVm1ZWFZzZEM1emRtT0NFV0ZrYldsemMybHZiaTVrWldaaGRXeDBod1FLQkFpbU1BMEdDU3FHU0liM0RRRUIKQ3dVQUE0SUJBUUMzaFZEVmJFSkpqU1VCNEQ5U2dyRE8zWDhNZkRHWEJvd0lreUtsa1V2aDRWdExNMUQyTU5zUgpMNk04LzNzTHpDS3FNV3BuemxSTEJmdEFjYkdPVDgxNXU1RDdTVFFLYnJGUFZ3MDluTUFqUll4WjdBeHRtVGo1CjBERXp2VkNSS2ZzWENzTnN2YnZ6Wk9KZ2JBUko4bnJWdXg0dmpwVXl3RnhrYjFTbXpHTVcyMjU5cXUrV0tpYkcKczNiNE0yR2t1V0lGV1hlNEpkRXdPaG1tdHlxcGlzRGQ2QkdRMjA5V1lQeERDeGsxcUJHWFM4djJGc1JMM2c0Qwo2VHFyRXNzVit3c2VYb0t4d2FRUCtNRmIvZ1NpSzJyVEY3Q1lmQ25NUzJwTXRmYVpWS0VYQWNYTUZoN1pBblp6CkxiQ0Z0dVhDQkNRRlJrcjVheFU2MTh4YklHZVNlR2VaCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
