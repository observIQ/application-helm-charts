apiVersion: admissionregistration.k8s.io/v1
kind: ValidatingWebhookConfiguration
metadata:
  name: redb-admission-0
  labels:
    app: redis-enterprise
webhooks:
- name: redb.admission.redislabs
  failurePolicy: Fail
  matchPolicy: Exact
  sideEffects: None
  timeoutSeconds: 30
  rules:
  - apiGroups:   ["app.redislabs.com"]
    apiVersions: ["v1alpha1"]
    operations:  ["*"]
    resources:   ["redisenterprisedatabases"]
  clientConfig:
    service:
      namespace: redis-0
      name: admission
      path: /admission
    caBundle: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURjekNDQWx1Z0F3SUJBZ0lRSmdoanZWQ3pUUjRONk0zQ2M5R1JXVEFOQmdrcWhraUc5dzBCQVFzRkFEQSsKTVNRd0lnWURWUVFLRXh0U1pXUnBjMHhoWW5NZ1FXUnRhWE56YVc5dUlFTnZiblJ5YjJ3eEZqQVVCZ05WQkFNVApEV0ZrYldsemMybHZiaTEwYkhNd0hoY05Nak13TkRFek1UY3hPRFU1V2hjTk1qZ3dOREV4TVRjeE9EVTVXakErCk1TUXdJZ1lEVlFRS0V4dFNaV1JwYzB4aFluTWdRV1J0YVhOemFXOXVJRU52Ym5SeWIyd3hGakFVQmdOVkJBTVQKRFdGa2JXbHpjMmx2YmkxMGJITXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCQVFDYwpOVW0zdFUxbXQ0Sk1EZFBxK1VOdnVsYkZEVWk0UTVqK1BxMXlMMnVJZ3QvYmhrT1BRU3MxcEVhUTZhSTRRcTE4CmdvbGIzVGJxZ1htZ2RqblNKanlWb2Z1cjZrUmZCS2NOOW1LTUZQQ3F6dlFKYmppU0R5cHFEd3R0anJyZzdQMCsKaDhLOHBzMnM0cDJVRm42ZGlSZnQwMjY1RElKVEphNGdmaGkxbkZOaU5wME1SQTA1U2FUK0lubURZMTFaMm9zNQpLb0E4YTVyN0pkcFZHY21icVFTV0phUlgxaGRoeWpMcTMzdkQxNVBxVUYzYjR0TDZKSFErZkhYZzlxZVgrVlMyCks3MUplbENnWUFwMFliRTIzYmd6N1V0TTVKSkFwZFZ2K2xTYWZWaXZ0UHJPODBtN25TNjMzdE54dkRBLzlaUFkKOURWT1F0NFJmR0JydWJwWjZ1b1hBZ01CQUFHamJUQnJNR2tHQTFVZEVRUmlNR0NDQ1dGa2JXbHpjMmx2Ym9JagpZV1J0YVhOemFXOXVMbkpsWkdsekxUQXVjM1pqTG1Oc2RYTjBaWEl1Ykc5allXeUNGV0ZrYldsemMybHZiaTV5ClpXUnBjeTB3TG5OMlk0SVJZV1J0YVhOemFXOXVMbkpsWkdsekxUQ0hCQXA4Q2tZd0RRWUpLb1pJaHZjTkFRRUwKQlFBRGdnRUJBRlgrb3hUNDhVZGdqUVI1OEZRSzFDc3h1VDNWRTJIUzVJM2pZc0ZJTTdSbnlGUEo3OThmVmoyKwpMTzhsOXp4YVpiYTh4SWxYb01STWhLZ2NFcnpnVWVDVzhZZUJKVklpN3MvdWdhcnREeHhkOVJmR0R6Mml2QkRyCkFEejJqSTU1dEM2MUNqQ0dJMDAvSSs2Ukh2anQ4aHg1QjRXRWdyZk41bUx6ZTU1WEZrd0NTNEpyVnhXZEkzMXoKaWMxYVFGYlh1RTNIMUtrN01PU1c4a01GdG9LNE45UmtXM3NNOVNDMVd5WUxaSVE4ZGJEdmhSRmJ0dW5qVHNZTQo0RTNCaUdMUitFV1dNeStKS3N0RTIwSjFVdkprSHcxVHcvcTR0SlFPRGJVSSt5bVpnSXhLblNKRmc0SEZZKzdoCnBYZGoycGNQM0VhSE5sbklSeUt6OCs2TE5oTDFoTTg9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K" # Fill in with BASE64 encoded signed cert
  admissionReviewVersions: ["v1beta1"]
